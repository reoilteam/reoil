import e,{useRef as t,useState as n,useEffect as r,useLayoutEffect as o}from"react";import i from"@emotion/styled";import{color as c,layout as s,space as a,flex as u,flexbox as l,colorStyle as f,background as d,shadow as h,border as p,typography as v}from"styled-system";import{jsx as b,css as y}from"@emotion/core";import{useCopyToClipboard as m}from"react-use";function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),T="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,S="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),k="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(S):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var R=["top","right","bottom","left","width","height","size","weight"],P="undefined"!=typeof MutationObserver,B=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function c(){k(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){T&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),P?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){T&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;R.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),D=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},z=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||S},H=q(0,0,0,0);function W(e){return parseFloat(e)||0}function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+W(e["border-"+n+"-width"])}),0)}function L(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return H;var r=z(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=W(i)}return t}(r),i=o.left+o.right,c=o.top+o.bottom,s=W(r.width),a=W(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=C(r,"left","right")+i),Math.round(a+c)!==n&&(a-=C(r,"top","bottom")+c)),!function(e){return e===z(e).document.documentElement}(e)){var u=Math.round(s+i)-t,l=Math.round(a+c)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(a-=l)}return q(o.left,o.top,s,a)}var F="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof z(e).SVGGraphicsElement}:function(e){return e instanceof z(e).SVGElement&&"function"==typeof e.getBBox};function I(e){return T?F(e)?function(e){var t=e.getBBox();return q(0,0,t.width,t.height)}(e):L(e):H}function q(e,t,n,r){return{x:e,y:t,width:n,height:r}}var X=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=q(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=I(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,r,o,i,c,s,a,u=(r=(n=t).x,o=n.y,i=n.width,c=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(s.prototype),D(a,{x:r,y:o,width:i,height:c,top:o,right:r+i,bottom:c+o,left:r}),a);D(this,{target:e,contentRect:u})},G=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new M,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new X(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),V="undefined"!=typeof WeakMap?new WeakMap:new M,N=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=B.getInstance(),r=new G(t,n,this);V.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){N.prototype[e]=function(){var t;return(t=V.get(this))[e].apply(t,arguments)}}));var U=void 0!==S.ResizeObserver?S.ResizeObserver:N,$=function(){var e=t(null),o=j(n({width:0,height:0}),2),i=o[0],c=o[1];return r((function(){var t=new U((function(t){c(O(O({},i),{},{width:e.current.offsetWidth,height:e.current.offsetHeight}))}));return e.current&&t.observe(e.current),function(){return t.disconnect()}}),[e]),b("div",{className:"inspect",style:{position:"absolute",width:"100%",height:"100%",boxShadow:"0 0 0 1px orangered",borderRadius:2,top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,transition:".4s",zIndex:9999},ref:e},b("div",{className:"inspect-info",style:{color:"white",background:"red",padding:8,borderRadius:4}},i.width," x ",i.height))};function J(){var e=E(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return J=function(){return e},e}function K(){var e=E(["\n        ",";\n        ","; position: relative;\n        ",";\n      "]);return K=function(){return e},e}function Q(){var e=E(["\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: ",";\n    overflow: hidden;\n  "]);return Q=function(){return e},e}function Z(){var e=E(["\n    img,\n    video,\n    audio {\n      width: 100%;\n      height: 100%;\n      object-fit: ",";\n    }\n  "]);return Z=function(){return e},e}var ee=e.forwardRef((function(e,t){var n=e.style,r=e.color,o=e.row,i=e.center,c=e.left,s=e.right,a=e.top,u=e.bottom,l=e.rowBetween,f=e.rowAround,d=e.rowEvenly,h=e.colBetween,p=e.colAround,v=e.colEvenly,m=e.pointer,g=e.textTransform,_=e.objectFit,E=e.fit,j=e.cover,A=e.transition,M=e.position,T=e.width,S=e.fullWidth,k=e.inspect,R=e.alignX,P=e.alignY,B=e.stretch,D=e.boxSizing,z=e.borderBox,H=e.contentBox,W=e.userSelect,C=e.pointerEvents,L=e.lineClamp,F=x(e,["style","color","row","center","left","right","top","bottom","rowBetween","rowAround","rowEvenly","colBetween","colAround","colEvenly","pointer","textTransform","objectFit","fit","cover","transition","position","width","fullWidth","inspect","alignX","alignY","stretch","boxSizing","borderBox","contentBox","userSelect","pointerEvents","lineClamp"]),I={center:i,left:"boolean"==typeof c&&c?c:void 0,right:"boolean"==typeof s&&s?s:void 0,top:"boolean"==typeof a&&a?a:void 0,bottom:"boolean"==typeof u&&u?u:void 0,rowBetween:l,rowAround:f,rowEvenly:d,colBetween:h,colAround:p,colEvenly:v},q=o?"row":"column",X=function(e){var t=e.childrenPosition,n=e.flexDirection,r=e.alignX,o=e.alignY;e.stretch;return"row"===n?r||(t.left?"flex-start":t.right?"flex-end":t.rowBetween?"space-between":t.rowAround?"space-around":t.rowEvenly?"space-evenly":t.center?"center":"flex-start"):"column"===n?o||(t.top?"flex-start":t.bottom?"flex-end":t.colBetween?"space-between":t.colAround?"space-around":t.colEvenly?"space-evenly":t.center?"center":"flex-start"):"flex-start"}({childrenPosition:I,flexDirection:q,alignX:R,alignY:P,stretch:B}),Y=function(e){var t=e.childrenPosition,n=e.flexDirection,r=e.alignX,o=e.alignY,i=e.stretch;return"column"===n?i?"stretch":r||(t.left?"flex-start":t.right?"flex-end":t.rowBetween?"space-between":t.rowAround?"space-around":t.rowEvenly?"space-evenly":t.center?"center":"flex-start"):"row"===n?i?"stretch":o||(t.top?"flex-start":t.bottom?"flex-end":t.colBetween?"space-between":t.colAround?"space-around":t.colEvenly?"space-evenly":t.center?"center":"flex-start"):"flex-start"}({childrenPosition:I,flexDirection:q,alignX:R,alignY:P,stretch:B}),G=m?"pointer":void 0,V="boolean"==typeof A?".4s":"string"==typeof A?A:void 0,N=y(Z(),j?"cover":E||_),U=y(Q(),L);return b(te,w({color:r,flexDirection:q,alignItems:Y,justifyContent:X,style:O({cursor:G,textTransform:g,transition:V,position:M,left:"boolean"!=typeof c?c:void 0,right:"boolean"!=typeof s?s:void 0,top:"boolean"!=typeof a?a:void 0,bottom:"boolean"!=typeof u?u:void 0,width:S?"100%":T,boxSizing:(z?"border-box":H&&"content-box")||D,userSelect:W,pointerEvents:C},n),css:y(K(),j||E||_?N:null,j||E||_&&F.borderRadius?"overflow: hidden":null,L&&U),ref:t},F),k&&b($,null),F.children)}));ee.defaultProps={display:"flex"};var te=i.div(J(),c,s,a,u,l,f,d,h,p,v),ne=function(t){var n,r,o=t.src,i=void 0===o?"random":o,c=t.alt,s=t.objectFit,a=t.fit,u=t.cover,l=t.height,f=t.width,d=t.minWidth,h=t.minHeight,p=t.maxWidth,v=t.maxHeight,b=t.display,y=t.borderRadius,m=x(t,["src","alt","objectFit","fit","cover","height","width","minWidth","minHeight","maxWidth","maxHeight","display","borderRadius"]);return e.createElement("img",w({src:"random"===i?"https://picsum.photos/seed/".concat((n=0,r=3e3,Math.round(Math.random()*(r-n)+n)),"/300"):i,alt:c,style:{objectFit:u?"cover":a||s?a||s:void 0,width:f,height:l,minWidth:d,minHeight:h,maxWidth:p,maxHeight:v,display:b,borderRadius:y}},m))},re=function(t){var n=t.src,r=void 0===n?"random":n,o=t.children,i=(t.random,x(t,["src","children","random"]));return e.createElement(ee,w({center:!!o},i),o||e.createElement(ne,{src:r}))};re.defaultProps={borderRadius:"50%",cover:!0,size:34,backgroundColor:"whitesmoke"};var oe=function(t){var n=t.title,r=t.favicon;return o((function(){document.title=n,document.querySelector("link[rel=icon]").setAttribute("href",r)}),[]),e.createElement(e.Fragment,null)},ie=function(o){var i=o.children,c=o.type,s=void 0===c?"innerText":c,a=o.onCopyTriggered,u=x(o,["children","type","onCopyTriggered"]),l=j(m(),2),f=l[0],d=l[1],h=j(n(""),2),p=h[0],v=h[1],b=t(null);r((function(){var e=b.current;e&&v("innerText"===s?null==e?void 0:e.innerText:"innerHTML"===s?null==e?void 0:e.innerHTML:"outerHTML"===s?null==e?void 0:e.outerHTML:"")}),[p]);return r((function(){f.value&&a&&a(p)}),[f]),e.createElement("div",w({ref:b,onClick:function(){p&&d(p)}},u),i)},ce=function(t){var n=t.borderRadius,r=void 0===n?2:n,o=t.divides,i=void 0===o?[1,3]:o,c=t.gap,s=void 0===c?10:c,a=t.color,u=void 0===a?"dark":a,l="dark"===u?"rgba(0,0,0,.1)":"light"===u?"rgba(255,255,255,.2)":u,f=function(e,t){var n=i.reduce((function(e,t){return e+t}),0),r=(i.length-1)*t/i.length;return"calc(".concat(e/n*100+"%"," - ").concat(r,"px)")};return e.createElement("div",{style:{display:"block"}},i.map((function(t,n){return e.createElement("span",{key:n,style:{display:"inline-flex",lineHeight:1,background:l,width:f(t,s),marginLeft:n&&s,borderRadius:r}},"‌")})))};export{re as Avatar,ee as Box,ie as Copy,ne as Image,oe as Meta,ce as SkeletonText};
//# sourceMappingURL=index.es.js.map
